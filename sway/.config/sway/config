set $mod Mod4

set $font_mono "pango:JetBrains Mono 10"
set $wallpaper "$HOME/Im√°genes/wallpapers/sebastian-svenson-d2w-_1LJioQ-unsplash.jpg"

# Default programs
set $term alacritty
set $browser firefox
set $private-browser firefox --private-window
set $menu wmenu-run
set $calc kcalc
set $screenshot slurp | grim -g - - | swappy -f -
set $lock swaylock -f -c 000000 -i $wallpaper
set $clipboard cliphist list | wmenu | cliphist decode | wl-copy

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Launch dbus
exec systemctl --user import-environment WAYLAND_DISPLAY DISPLAY XDG_CURRENT_DESKTOP SWAYSOCK I3SOCK XCURSOR_SIZE XCURSOR_THEME
exec dbus-update-activation-environment WAYLAND_DISPLAY DISPLAY XDG_CURRENT_DESKTOP SWAYSOCK I3SOCK XCURSOR_SIZE XCURSOR_THEME

# Start wallet
exec /usr/lib/pam_kwallet_init

# Autostart .desktop files
exec dex --autostart --environment sway

# Start notification daemon
exec mako

# Autotiling
exec autotiling-rs

# Enable clipboard
exec wl-paste --watch cliphist store

# Display
bindswitch --reload --locked lid:on output eDP-1 disable
bindswitch --reload --locked lid:off output eDP-1 enable pos 0 0

# Bind main workspaces to external monitor
workspace $ws1 output HDMI-A-1
workspace $ws2 output HDMI-A-1

# and 10 to the laptop output (if enabled)
workspace $ws10 output eDP-1

exec swayidle -w \
         timeout 300 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         timeout 600 "$lock" \
         before-sleep "$lock"

input "type:keyboard" {
    xkb_layout "es"
}

input type:touchpad {
    accel_profile "flat"
    pointer_accel 0.5
    click_method "clickfinger"
    tap enabled
    natural_scroll enabled
    drag enabled
    drag_lock enabled
}

include "style"
include "keybinds"
